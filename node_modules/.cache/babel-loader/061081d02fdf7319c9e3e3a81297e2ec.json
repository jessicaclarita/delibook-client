{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jessi/DeliBook/delibook-client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jessi/DeliBook/delibook-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import'./App.css';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import{useContext,useEffect}from'react';import{MyContext}from'./context';import AppNavbar from\"./components/Navbar/navbar\";import HomePage from'./pages/Home/home';import NotFoundPage from'./pages/NotFound/notfound';import LoginPage from'./pages/Login/login';import SignUpPage from'./pages/SignUp/signup';import FavoritesPage from'./pages/Favorites/favorites';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(MyContext),user=_useContext.user,setUser=_useContext.setUser;useEffect(function(){var autoLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/auto-login',{method:'POST',headers:{'Content-Type':'application/json','x-access-token':localStorage.getItem('token')}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setUser(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function autoLogin(){return _ref.apply(this,arguments);};}();autoLogin();},[]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),!user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUpPage,{})})]}),user&&/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(FavoritesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})]});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Route","Routes","useContext","useEffect","MyContext","AppNavbar","HomePage","NotFoundPage","LoginPage","SignUpPage","FavoritesPage","App","user","setUser","autoLogin","fetch","method","headers","localStorage","getItem","response","json","data"],"sources":["C:/Users/jessi/DeliBook/delibook-client/src/App.js"],"sourcesContent":["import './App.css';\nimport {BrowserRouter as Router, Route, Routes} from 'react-router-dom';\nimport {useContext, useEffect} from 'react';\nimport {MyContext} from './context';\nimport AppNavbar from \"./components/Navbar/navbar\";\nimport HomePage from './pages/Home/home';\nimport NotFoundPage from './pages/NotFound/notfound';\nimport LoginPage from './pages/Login/login';\nimport SignUpPage from './pages/SignUp/signup';\nimport FavoritesPage from './pages/Favorites/favorites';\n\nfunction App() {\n  const {user, setUser} = useContext(MyContext);\n  useEffect(() => {\n  const autoLogin = async() => {\n  const response = await fetch('http://localhost:5000/auto-login', {\n      method:'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': localStorage.getItem('token'),\n      }\n     });\n  \n    const data = await response.json();\n    setUser(data)\n  }\n\n  autoLogin()\n  \n  }, []);\n\n  return (\n      <Router>\n        <AppNavbar/>\n          <Routes>\n            <Route path=\"/\" element={<HomePage/>} />\n            {!user && (\n              <>\n                <Route path=\"/login\" element={<LoginPage/>} />\n                <Route path=\"/signup\" element={<SignUpPage/>} />\n              </>\n            )}\n            {user && <Route path=\"/favorites\" element={<FavoritesPage/>} />}\n            <Route path=\"*\" element={<NotFoundPage/>} />\n          </Routes>\n      </Router>\n  );\n}\n\n\nexport default App;\n"],"mappings":"0QAAA,MAAO,WAAW,CAClB,OAAQA,aAAa,GAAIC,OAAM,CAAEC,KAAK,CAAEC,MAAM,KAAO,kBAAkB,CACvE,OAAQC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAC3C,OAAQC,SAAS,KAAO,WAAW,CACnC,MAAOC,UAAS,KAAM,4BAA4B,CAClD,MAAOC,SAAQ,KAAM,mBAAmB,CACxC,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,UAAS,KAAM,qBAAqB,CAC3C,MAAOC,WAAU,KAAM,uBAAuB,CAC9C,MAAOC,cAAa,KAAM,6BAA6B,CAAC,6IAExD,QAASC,IAAG,EAAG,CACb,gBAAwBT,UAAU,CAACE,SAAS,CAAC,CAAtCQ,IAAI,aAAJA,IAAI,CAAEC,OAAO,aAAPA,OAAO,CACpBV,SAAS,CAAC,UAAM,CAChB,GAAMW,UAAS,4FAAG,6KACKC,MAAK,CAAC,kCAAkC,CAAE,CAC7DC,MAAM,CAAC,MAAM,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,gBAAgB,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAChD,CACD,CAAC,CAAC,QANCC,QAAQ,qCAQOA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVT,OAAO,CAACS,IAAI,CAAC,uDACd,kBAXKR,UAAS,0CAWd,CAEDA,SAAS,EAAE,CAEX,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,MAAC,MAAM,yBACL,KAAC,SAAS,IAAE,cACV,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAG,EAAG,CACvC,CAACF,IAAI,eACJ,wCACE,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,cAAE,KAAC,SAAS,IAAG,EAAG,cAC9C,KAAC,KAAK,EAAC,IAAI,CAAC,SAAS,CAAC,OAAO,cAAE,KAAC,UAAU,IAAG,EAAG,GAEnD,CACAA,IAAI,eAAI,KAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,aAAa,IAAG,EAAG,cAC/D,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,YAAY,IAAG,EAAG,GACrC,GACJ,CAEf,CAGA,cAAeD,IAAG"},"metadata":{},"sourceType":"module"}