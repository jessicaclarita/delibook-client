{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jessi\\\\DeliBook\\\\delibook-client\\\\src\\\\components\\\\MealModal\\\\mealmodal.js\",\n  _s = $RefreshSig$();\nimport { React, useContext, useState } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { MyContext } from '../../context';\nimport axios from 'axios';\nimport './mealmodal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MealModal(_ref) {\n  _s();\n  let {\n    title,\n    description,\n    idMeal\n  } = _ref;\n  const [show, setShow] = useState(false);\n  const {\n    user,\n    setUser\n  } = useContext(MyContext);\n  const [loading, setLoading] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const handleAddToFavorites = async () => {\n    setLoading(true);\n    const response = await fetch('http://localhost:5000/add-favorites', {\n      method: 'POST',\n      mealId: idMeal\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      setLoading(false);\n      setUser(data.user);\n      alert('This meal has been added to favourites');\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  };\n  const handleRemoveFromFavorites = async () => {\n    setLoading(true);\n    const response = await fetch('http://localhost:5000/remove-favorites', {\n      mealId: idMeal\n    }).then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      setLoading(false);\n      setUser(data);\n      alert('This meal has been removed from favorites');\n    }).catch(err => {\n      setLoading(false);\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"modal-button mb-3\",\n      variant: \"link\",\n      size: \"lg\",\n      onClick: handleShow,\n      children: \"View More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: user.favourites.includes(idMeal) ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: handleRemoveFromFavorites,\n            disabled: loading,\n            children: \"Remove from Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            className: \"modal-button\",\n            variant: \"primary\",\n            onClick: handleAddToFavorites,\n            disabled: loading,\n            children: \"Add to Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MealModal, \"EjcPW1dyt4JtuTxohdfp5U9KpME=\");\n_c = MealModal;\nexport default MealModal;\nvar _c;\n$RefreshReg$(_c, \"MealModal\");","map":{"version":3,"names":["React","useContext","useState","Button","Modal","MyContext","axios","MealModal","title","description","idMeal","show","setShow","user","setUser","loading","setLoading","handleClose","handleShow","handleAddToFavorites","response","fetch","method","mealId","then","data","alert","catch","err","console","log","handleRemoveFromFavorites","favourites","includes"],"sources":["C:/Users/jessi/DeliBook/delibook-client/src/components/MealModal/mealmodal.js"],"sourcesContent":["import {React, useContext, useState} from 'react';\r\nimport {Button, Modal} from 'react-bootstrap';\r\nimport { MyContext } from '../../context';\r\nimport axios from 'axios';\r\nimport './mealmodal.css';\r\n\r\nfunction MealModal({title, description, idMeal}) {\r\n  const [show, setShow] = useState(false);\r\n  const {user, setUser} = useContext(MyContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleAddToFavorites = async() => {\r\n    setLoading(true);\r\n    const response = await fetch('http://localhost:5000/add-favorites', {method:'POST', mealId: idMeal})\r\n    .then(({data}) => {\r\n      setLoading(false);\r\n      setUser(data.user);\r\n      alert('This meal has been added to favourites');\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  const handleRemoveFromFavorites = async() => {\r\n    setLoading(true);\r\n    const response = await fetch('http://localhost:5000/remove-favorites', {mealId: idMeal})\r\n    .then(({data}) => {\r\n      setLoading(false);\r\n      setUser(data);\r\n      alert('This meal has been removed from favorites');\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log(err)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button className='modal-button mb-3' variant=\"link\" size='lg' onClick={handleShow}>View More\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{title}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{description}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          {user && (\r\n            <>\r\n            {user.favourites.includes(idMeal) ? (\r\n            <Button variant=\"danger\" onClick={handleRemoveFromFavorites} disabled={loading}>Remove from Favorites</Button>\r\n            ) : ( \r\n            <Button className='modal-button' variant=\"primary\" onClick={handleAddToFavorites} disabled={loading}>\r\n            Add to Favorites\r\n            </Button>\r\n            )}\r\n            </>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MealModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}