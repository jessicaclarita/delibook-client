{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jessi\\\\DeliBook\\\\delibook-client\\\\src\\\\components\\\\MealModal\\\\mealmodal.js\",\n  _s = $RefreshSig$();\nimport { React, useContext, useState } from 'react';\nimport { Button, Modal } from 'react-bootstrap';\nimport { MyContext } from '../../context';\nimport swal from 'sweetalert';\nimport './mealmodal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MealModal(_ref) {\n  _s();\n  let {\n    title,\n    description,\n    idMeal\n  } = _ref;\n  const [show, setShow] = useState(false);\n  const {\n    user,\n    setUser\n  } = useContext(MyContext);\n  const [loading, setLoading] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const handleAddToFavorites = async () => {\n    setLoading(true);\n    const response = await fetch('http://localhost:5000/add-favorites', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        mealId: idMeal\n      })\n    });\n    const data = await response.json();\n    setLoading(false);\n    setUser(data);\n    swal(\"Added to favorites successfully!\", {\n      icon: \"success\",\n      buttons: false,\n      timer: 2000\n    });\n  };\n  const handleRemoveFromFavorites = async () => {\n    setLoading(true);\n    const response = await fetch('http://localhost:5000/remove-favorites', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': localStorage.getItem('token')\n      },\n      body: JSON.stringify({\n        mealId: idMeal\n      })\n    });\n    const data = await response.json();\n    setLoading(false);\n    setUser(data);\n  };\n  function confirmRemove() {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to find this meal on favorites!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        handleRemoveFromFavorites();\n        swal(\"Poof! Removed from favorites successfully!\", {\n          icon: \"success\",\n          buttons: false,\n          timer: 2000\n        });\n      } else {\n        swal(\"Your favorite meal is safe!\", {\n          icon: \"info\",\n          buttons: false,\n          timer: 2000\n        });\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"modal-button mb-3\",\n      variant: \"link\",\n      size: \"lg\",\n      onClick: handleShow,\n      children: \"View More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [\"How to make \\\"\", title, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: user.favorites.includes(idMeal) ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: confirmRemove,\n            disabled: loading,\n            children: \"Remove from Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            className: \"modal-button\",\n            variant: \"link\",\n            onClick: handleAddToFavorites,\n            disabled: loading,\n            children: \"Add to Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MealModal, \"EjcPW1dyt4JtuTxohdfp5U9KpME=\");\n_c = MealModal;\nexport default MealModal;\nvar _c;\n$RefreshReg$(_c, \"MealModal\");","map":{"version":3,"names":["React","useContext","useState","Button","Modal","MyContext","swal","MealModal","title","description","idMeal","show","setShow","user","setUser","loading","setLoading","handleClose","handleShow","handleAddToFavorites","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","mealId","data","json","icon","buttons","timer","handleRemoveFromFavorites","confirmRemove","text","dangerMode","then","willDelete","favorites","includes"],"sources":["C:/Users/jessi/DeliBook/delibook-client/src/components/MealModal/mealmodal.js"],"sourcesContent":["import {React, useContext, useState} from 'react';\r\nimport {Button, Modal} from 'react-bootstrap';\r\nimport { MyContext } from '../../context';\r\nimport swal from 'sweetalert';\r\nimport './mealmodal.css';\r\n\r\nfunction MealModal({title, description, idMeal}) {\r\n  const [show, setShow] = useState(false);\r\n  const {user, setUser} = useContext(MyContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleAddToFavorites = async() => {\r\n    setLoading(true);\r\n    const response = await fetch('http://localhost:5000/add-favorites', {\r\n      method:'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify({\r\n        mealId: idMeal\r\n    })\r\n    })\r\n      const data = await response.json();\r\n      setLoading(false);\r\n      setUser(data);\r\n      swal(\"Added to favorites successfully!\", {\r\n        icon: \"success\",\r\n        buttons: false,\r\n        timer: 2000,\r\n      });\r\n  };\r\n\r\n  const handleRemoveFromFavorites = async() => {\r\n    setLoading(true);\r\n    const response = await fetch('http://localhost:5000/remove-favorites', {\r\n      method:'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': localStorage.getItem('token'),\r\n      },\r\n      body: JSON.stringify({\r\n        mealId: idMeal\r\n    })\r\n    })\r\n    const data = await response.json();\r\n      setLoading(false);\r\n      setUser(data);\r\n  };\r\n\r\n  function confirmRemove() {\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"Once deleted, you will not be able to find this meal on favorites!\",\r\n      icon: \"warning\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    })\r\n    .then((willDelete) => {\r\n      if (willDelete) {\r\n        handleRemoveFromFavorites();\r\n        swal(\"Poof! Removed from favorites successfully!\", {\r\n          icon: \"success\",\r\n          buttons: false,\r\n          timer: 2000,\r\n        });\r\n      } else {\r\n        swal(\"Your favorite meal is safe!\", {\r\n          icon: \"info\",\r\n          buttons: false,\r\n          timer: 2000,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button className='modal-button mb-3' variant=\"link\" size='lg' onClick={handleShow}>View More\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>How to make \"{title}\"</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{description}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          {user && (\r\n            <>\r\n            {user.favorites.includes(idMeal) ? (\r\n            <Button variant=\"danger\" onClick={confirmRemove} disabled={loading}>Remove from Favorites</Button>\r\n            ) : ( \r\n            <Button className='modal-button' variant=\"link\" onClick={handleAddToFavorites} disabled={loading}>\r\n            Add to Favorites\r\n            </Button>\r\n            )}\r\n            </>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MealModal;"],"mappings":";;AAAA,SAAQA,KAAK,EAAEC,UAAU,EAAEC,QAAQ,QAAO,OAAO;AACjD,SAAQC,MAAM,EAAEC,KAAK,QAAO,iBAAiB;AAC7C,SAASC,SAAS,QAAQ,eAAe;AACzC,OAAOC,IAAI,MAAM,YAAY;AAC7B,OAAO,iBAAiB;AAAC;AAAA;AAEzB,SAASC,SAAS,OAA+B;EAAA;EAAA,IAA9B;IAACC,KAAK;IAAEC,WAAW;IAAEC;EAAM,CAAC;EAC7C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM;IAACW,IAAI;IAAEC;EAAO,CAAC,GAAGb,UAAU,CAACI,SAAS,CAAC;EAC7C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMe,WAAW,GAAG,MAAML,OAAO,CAAC,KAAK,CAAC;EACxC,MAAMM,UAAU,GAAG,MAAMN,OAAO,CAAC,IAAI,CAAC;EACtC,MAAMO,oBAAoB,GAAG,YAAW;IACtCH,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;MAClEC,MAAM,EAAC,MAAM;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,gBAAgB,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;MAChD,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,MAAM,EAAEnB;MACZ,CAAC;IACD,CAAC,CAAC;IACA,MAAMoB,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,EAAE;IAClCf,UAAU,CAAC,KAAK,CAAC;IACjBF,OAAO,CAACgB,IAAI,CAAC;IACbxB,IAAI,CAAC,kCAAkC,EAAE;MACvC0B,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,yBAAyB,GAAG,YAAW;IAC3CnB,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;MACrEC,MAAM,EAAC,MAAM;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,gBAAgB,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;MAChD,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,MAAM,EAAEnB;MACZ,CAAC;IACD,CAAC,CAAC;IACF,MAAMoB,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,EAAE;IAChCf,UAAU,CAAC,KAAK,CAAC;IACjBF,OAAO,CAACgB,IAAI,CAAC;EACjB,CAAC;EAED,SAASM,aAAa,GAAG;IACvB9B,IAAI,CAAC;MACHE,KAAK,EAAE,eAAe;MACtB6B,IAAI,EAAE,oEAAoE;MAC1EL,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE,IAAI;MACbK,UAAU,EAAE;IACd,CAAC,CAAC,CACDC,IAAI,CAAEC,UAAU,IAAK;MACpB,IAAIA,UAAU,EAAE;QACdL,yBAAyB,EAAE;QAC3B7B,IAAI,CAAC,4CAA4C,EAAE;UACjD0B,IAAI,EAAE,SAAS;UACfC,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ,CAAC,MAAM;QACL5B,IAAI,CAAC,6BAA6B,EAAE;UAClC0B,IAAI,EAAE,MAAM;UACZC,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAEA,oBACE;IAAA,wBACE,QAAC,MAAM;MAAC,SAAS,EAAC,mBAAmB;MAAC,OAAO,EAAC,MAAM;MAAC,IAAI,EAAC,IAAI;MAAC,OAAO,EAAEhB,UAAW;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAC1E,eACT,QAAC,KAAK;MAAC,IAAI,EAAEP,IAAK;MAAC,MAAM,EAAEM,WAAY;MAAA,wBACrC,QAAC,KAAK,CAAC,MAAM;QAAC,WAAW;QAAA,uBACvB,QAAC,KAAK,CAAC,KAAK;UAAA,6BAAeT,KAAK;QAAA;UAAA;UAAA;UAAA;QAAA;MAAgB;QAAA;QAAA;QAAA;MAAA,QACnC,eACf,QAAC,KAAK,CAAC,IAAI;QAAA,UAAEC;MAAW;QAAA;QAAA;QAAA;MAAA,QAAc,eACtC,QAAC,KAAK,CAAC,MAAM;QAAA,wBACX,QAAC,MAAM;UAAC,OAAO,EAAC,WAAW;UAAC,OAAO,EAAEQ,WAAY;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAExC,EACRJ,IAAI,iBACH;UAAA,UACCA,IAAI,CAAC4B,SAAS,CAACC,QAAQ,CAAChC,MAAM,CAAC,gBAChC,QAAC,MAAM;YAAC,OAAO,EAAC,QAAQ;YAAC,OAAO,EAAE0B,aAAc;YAAC,QAAQ,EAAErB,OAAQ;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA+B,gBAElG,QAAC,MAAM;YAAC,SAAS,EAAC,cAAc;YAAC,OAAO,EAAC,MAAM;YAAC,OAAO,EAAEI,oBAAqB;YAAC,QAAQ,EAAEJ,OAAQ;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAGhG,iBAEF;MAAA;QAAA;QAAA;QAAA;MAAA,QACY;IAAA;MAAA;MAAA;MAAA;IAAA,QACT;EAAA,gBACP;AAEP;AAAC,GAnGQR,SAAS;AAAA,KAATA,SAAS;AAqGlB,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module"}