{"ast":null,"code":"import _slicedToArray from\"C:/Users/jessi/DeliBook/delibook-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./login.css';import axios from'axios';import swal from'sweetalert';import React,{useContext,useState}from'react';import{Button,Form}from'react-bootstrap';import{MyContext}from'../../context';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useContext=useContext(MyContext),setUser=_useContext.setUser;// function to login user when button is clicked\nfunction handleLogin(e){e.preventDefault();if(!email||!password){return alert('Please fill out the fields');}axios.post(\"http://localhost:5000/login\",{email:email,password:password}).then(function(_ref){var data=_ref.data;localStorage.setItem(\"token\",data.token);setUser(data);navigate('/',{replace:true});swal(\"Logged in successfully!\",{icon:\"success\",buttons:false,timer:2000});}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\" mb-4\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,required:true})]}),/*#__PURE__*/_jsx(Button,{className:\"login-button mt-3 w-100\",variant:\"link\",type:\"submit\",children:\"Submit\"})]})]})});}export default LoginPage;","map":{"version":3,"names":["axios","swal","React","useContext","useState","Button","Form","MyContext","useNavigate","LoginPage","navigate","email","setEmail","password","setPassword","setUser","handleLogin","e","preventDefault","alert","post","then","data","localStorage","setItem","token","replace","icon","buttons","timer","catch","err","console","log","target","value"],"sources":["C:/Users/jessi/DeliBook/delibook-client/src/pages/Login/login.js"],"sourcesContent":["import './login.css';\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport React, {useContext, useState} from 'react';\r\nimport {Button, Form} from 'react-bootstrap';\r\nimport {MyContext} from '../../context';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction LoginPage() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const {setUser} = useContext(MyContext);\r\n  \r\n  // function to login user when button is clicked\r\n  function handleLogin(e){\r\n    e.preventDefault();\r\n    if(!email || !password){\r\n        return alert('Please fill out the fields');\r\n    }\r\n\r\n    axios\r\n    .post(\"http://localhost:5000/login\", {email, password})\r\n    .then(({data}) => {\r\n      localStorage.setItem(\"token\", data.token);\r\n      setUser(data);\r\n      navigate('/', { replace: true });\r\n      swal(\"Logged in successfully!\", {\r\n        icon: \"success\",\r\n        buttons: false,\r\n        timer: 2000,\r\n      });\r\n  })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"form-container\">\r\n        <h1>Login</h1>\r\n        <Form onSubmit={handleLogin}>\r\n          <Form.Group className=\"mb-4\" controlId=\"formBasicEmail\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={(e) => setEmail(e.target.value)} value={email} required/>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\" mb-4\" controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} value={password} required/>\r\n          </Form.Group>\r\n\r\n          <Button className=\"login-button mt-3 w-100\" variant=\"link\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;"],"mappings":"6HAAA,MAAO,aAAa,CACpB,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,KAAI,KAAM,YAAY,CAC7B,MAAOC,MAAK,EAAGC,UAAU,CAAEC,QAAQ,KAAO,OAAO,CACjD,OAAQC,MAAM,CAAEC,IAAI,KAAO,iBAAiB,CAC5C,OAAQC,SAAS,KAAO,eAAe,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAG/C,QAASC,UAAS,EAAG,CACnB,GAAMC,SAAQ,CAAGF,WAAW,EAAE,CAC9B,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BO,KAAK,eAAEC,QAAQ,eACtB,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,gBAAkBX,UAAU,CAACI,SAAS,CAAC,CAAhCQ,OAAO,aAAPA,OAAO,CAEd;AACA,QAASC,YAAW,CAACC,CAAC,CAAC,CACrBA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAG,CAACP,KAAK,EAAI,CAACE,QAAQ,CAAC,CACnB,MAAOM,MAAK,CAAC,4BAA4B,CAAC,CAC9C,CAEAnB,KAAK,CACJoB,IAAI,CAAC,6BAA6B,CAAE,CAACT,KAAK,CAALA,KAAK,CAAEE,QAAQ,CAARA,QAAQ,CAAC,CAAC,CACtDQ,IAAI,CAAC,cAAY,IAAVC,KAAI,MAAJA,IAAI,CACVC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,IAAI,CAACG,KAAK,CAAC,CACzCV,OAAO,CAACO,IAAI,CAAC,CACbZ,QAAQ,CAAC,GAAG,CAAE,CAAEgB,OAAO,CAAE,IAAK,CAAC,CAAC,CAChCzB,IAAI,CAAC,yBAAyB,CAAE,CAC9B0B,IAAI,CAAE,SAAS,CACfC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAAC,CACN,CAAC,CAAC,CACCC,KAAK,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACjC,CAEA,mBACE,YAAK,SAAS,CAAC,OAAO,uBACpB,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,6BAAc,cACd,MAAC,IAAI,EAAC,QAAQ,CAAEf,WAAY,wBAC1B,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,wBACrD,KAAC,IAAI,CAAC,KAAK,4BAA2B,cACtC,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAE,kBAACC,CAAC,QAAKL,SAAQ,CAACK,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,KAAK,CAAExB,KAAM,CAAC,QAAQ,OAAE,GAC7G,cAEb,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,mBAAmB,wBACzD,KAAC,IAAI,CAAC,KAAK,uBAAsB,cACjC,KAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAE,kBAACM,CAAC,QAAKH,YAAW,CAACG,CAAC,CAACiB,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,KAAK,CAAEtB,QAAS,CAAC,QAAQ,OAAE,GACnH,cAEb,KAAC,MAAM,EAAC,SAAS,CAAC,yBAAyB,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,oBAE/D,GACJ,GACH,EACF,CAEV,CAEA,cAAeJ,UAAS"},"metadata":{},"sourceType":"module"}