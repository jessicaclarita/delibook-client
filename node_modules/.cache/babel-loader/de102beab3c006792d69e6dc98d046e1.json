{"ast":null,"code":"import React,{useContext}from'react';import swal from'sweetalert';import NavbarLogo from'.//navbar_logo.png';import{Nav,Navbar,Container}from'react-bootstrap';import{LinkContainer}from'react-router-bootstrap';import{MyContext}from'../../context';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AppNavbar(){var navigate=useNavigate();var _useContext=useContext(MyContext),user=_useContext.user,setUser=_useContext.setUser;// to logout user\nvar handleLogout=function handleLogout(){fetch('http://localhost:5000/logout',{method:'POST',headers:{'Content-Type':'application/json','x-access-token':localStorage.getItem('token')}});localStorage.removeItem(\"token\");setUser(null);navigate('/',{replace:true});};// to reconfirm log out when user pressed the logout button\nfunction confirmLogout(){swal({title:\"Warning\",text:\"Do you really wish to log out?\",icon:\"warning\",dangerMode:true,buttons:true,closeOnClickOutside:false,closeOnEsc:false}).then(function(Logout){if(Logout){handleLogout();swal(\"Logged out successfully!\",{icon:\"success\",buttons:false,timer:2000});}});}return/*#__PURE__*/_jsx(Navbar,{collapseOnSelect:true,expand:\"lg\",bg:\"light\",fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsxs(Navbar.Brand,{onClick:\"window.location.reload()\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Logo\",src:NavbarLogo,width:\"30\",height:\"30\",className:\"d-inline-block align-top\"}),' ',\"DeliBook App\"]})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\"}),/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Nav.Link,{onClick:\"window.location.reload()\",children:\"Home\"})}),!user&&/*#__PURE__*/ // if user is not logged in, display these navbar link buttons\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Login\"})}),\" \",/*#__PURE__*/_jsx(LinkContainer,{to:\"/signup\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Sign Up\"})})]}),user&&/*#__PURE__*/ // if user is logged in, display these navbar link buttons\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/favorites\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Favorites\"})}),\" \",/*#__PURE__*/_jsx(Nav.Link,{onClick:confirmLogout,children:\"Logout\"})]})]})]})]})});}export default AppNavbar;","map":{"version":3,"names":["React","useContext","swal","NavbarLogo","Nav","Navbar","Container","LinkContainer","MyContext","useNavigate","AppNavbar","navigate","user","setUser","handleLogout","fetch","method","headers","localStorage","getItem","removeItem","replace","confirmLogout","title","text","icon","dangerMode","buttons","closeOnClickOutside","closeOnEsc","then","Logout","timer"],"sources":["C:/Users/jessi/DeliBook/delibook-client/src/components/Navbar/navbar.js"],"sourcesContent":["import React, {useContext } from 'react';\r\nimport swal from 'sweetalert';\r\nimport NavbarLogo from './/navbar_logo.png';\r\nimport {Nav, Navbar, Container} from 'react-bootstrap';\r\nimport {LinkContainer} from 'react-router-bootstrap';\r\nimport { MyContext } from '../../context';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction AppNavbar() {\r\n  const navigate = useNavigate();\r\n  const {user, setUser} = useContext(MyContext);\r\n\r\n  // to logout user\r\n  const handleLogout = () => {\r\n    fetch('http://localhost:5000/logout', {\r\n      method:'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': localStorage.getItem('token'),\r\n      }\r\n    })\r\n      localStorage.removeItem(\"token\");\r\n      setUser(null);\r\n      navigate('/', {replace: true});\r\n    };\r\n\r\n  // to reconfirm log out when user pressed the logout button\r\n  function confirmLogout() {\r\n    swal({\r\n      title: \"Warning\",\r\n      text: \"Do you really wish to log out?\",\r\n      icon: \"warning\",\r\n      dangerMode: true,\r\n      buttons: true,\r\n      closeOnClickOutside: false,\r\n      closeOnEsc: false,\r\n    })\r\n    .then((Logout) => {\r\n      if (Logout) {\r\n        handleLogout();\r\n        swal(\"Logged out successfully!\", {\r\n          icon: \"success\",\r\n          buttons: false,\r\n          timer: 2000,\r\n        });\r\n      } \r\n    });\r\n  }\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" fixed=\"top\">\r\n      <Container>\r\n        <LinkContainer to=\"/\">\r\n          <Navbar.Brand onClick=\"window.location.reload()\">\r\n            <img\r\n                alt=\"Logo\"\r\n                src={NavbarLogo}\r\n                width=\"30\"\r\n                height=\"30\"\r\n                className=\"d-inline-block align-top\"\r\n              />{' '}DeliBook App\r\n          </Navbar.Brand>\r\n        </LinkContainer>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\" >\r\n          <Nav className=\"me-auto\"></Nav>\r\n            <Nav>\r\n              <LinkContainer to=\"/\">\r\n                <Nav.Link onClick=\"window.location.reload()\">Home</Nav.Link>\r\n              </LinkContainer>\r\n          {!user && ( // if user is not logged in, display these navbar link buttons\r\n            <>\r\n              <LinkContainer to=\"/login\">\r\n                <Nav.Link>Login</Nav.Link>\r\n              </LinkContainer>{\" \"}\r\n              <LinkContainer to=\"/signup\">\r\n                <Nav.Link>Sign Up</Nav.Link>\r\n              </LinkContainer>\r\n            </>\r\n          )}\r\n          {user && ( // if user is logged in, display these navbar link buttons\r\n            <>\r\n              <LinkContainer to=\"/favorites\">\r\n                <Nav.Link>Favorites</Nav.Link>\r\n              </LinkContainer>{\" \"}\r\n              <Nav.Link onClick={confirmLogout}>Logout</Nav.Link>\r\n            </>\r\n          )}\r\n            </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default AppNavbar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}